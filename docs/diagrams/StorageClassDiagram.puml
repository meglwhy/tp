@startuml
!include style.puml
skinparam arrowThickness 1.1
skinparam arrowColor STORAGE_COLOR_T4
skinparam classBackgroundColor STORAGE_COLOR

package storage <<Rectangle>> {

  ' Interfaces
  class "<<interface>>\nStorage" as Storage
  class "<<interface>>\nHouseholdBookStorage" as HouseholdBookStorage
  class "<<interface>>\nUserPrefsStorage" as UserPrefsStorage

  ' Concrete public classes
  class "JsonSerializableHouseholdBook"
  class "JsonAdaptedSession"
  class "JsonAdaptedHousehold"
  class "JsonHouseholdBookStorage"
  class "JsonUserPrefsStorage"
  class "StorageManager"

  ' Default/package-private class
  class JsonAdaptedTag

  ' Interface inheritance
  HouseholdBookStorage <|-- Storage
  UserPrefsStorage <|-- Storage

  ' Class implementations
  HouseholdBookStorage <|.. JsonHouseholdBookStorage
  UserPrefsStorage <|.. JsonUserPrefsStorage
  Storage <|.. StorageManager

  ' Usage relationships (serialization structure)
  JsonSerializableHouseholdBook --> JsonAdaptedHousehold
  JsonSerializableHouseholdBook --> JsonAdaptedSession
  JsonSerializableHouseholdBook --> JsonAdaptedTag

  ' Composition/dependency links
  StorageManager --> JsonHouseholdBookStorage
  StorageManager --> JsonUserPrefsStorage
}

@enduml
